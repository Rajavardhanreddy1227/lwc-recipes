<template>
    <p>hyderabad</p>
    <div class="slds-page-header slds-page-header--object-home">
        <lightning-layout>
            <lightning-layout-item>
                <lightning-icon icon-name="standard:opportunity" alternative-text="Opportunity"></lightning-icon>
            </lightning-layout-item>
            <lightning-layout-item class="slds-m-left--small">
                <p class="slds-text-title--caps slds-line-height--reset">Accounts</p>
                <h1 class="slds-page-header__title slds-p-right--x-small">Opportunity Viewer</h1>
            </lightning-layout-item>
        </lightning-layout>
        <lightning-layout>
            <lightning-layout-item>
                <p class="slds-text-body--small"> View Opportunity Based on Selected Account</p>
            </lightning-layout-item>
        </lightning-layout>
    </div>
    <label class="slds-form-element__label" for="select-01">Select Account</label>
    <div class="slds-form-element__control">
        <div class="slds-select_container">
            <select class="slds-select" id="select-01" onchange={onValueSelection}>
                <!--iterate all picklist values from accounts list using for:each loop-->
                <template for:each={accounts.data} for:item="acc">
                    <option key={acc.Id} value={acc.Id}>
                        {acc.Name}
                    </option>
                </template>
            </select>
        </div>
    </div>
    <template if:true={opportunities}>
        <lightning-card title="Opportunities">
            <div style="height: 300px;">
                <lightning-datatable
                                     key-field="Id"
                                     data={opportunities}
                                     columns={columns}>
                </lightning-datatable>
            </div>
        </lightning-card>
    </template>
    <lightning-card title="Combo Box_with static values" icon-name="custom:custom67">
        <p class="slds-p-horizontal_small">
            <template if:true={options}>
                <div class="slds-m-around_medium">
                    <lightning-combobox
                                        name="Status"
                                        label="Status"
                                        value={selectedValue}
                                        placeholder="Select Progress"
                                        options={options}
                                        onchange={handleChange}></lightning-combobox>
                    <p>Selected Value is:<b>{selectedValue}</b></p>
                </div>
            </template>
        </p>
    </lightning-card><br/>
    <div>
        <lightning-button  variant="base" label="Prospecting" onclick={stagechange} class="slds-m-left_x-small"></lightning-button>
        <p>Selected value :<b>{selectedsvalue}</b></p>
    </div>
    <lightning-card title="Combo Box_Stagename_values" icon-name="custom:custom67">
        <p class="slds-p-horizontal_small">
            <template if:true={typeValues.data}>
                <div class="slds-m-around_medium">
                    <lightning-combobox
                                        name="Stage Name"
                                        label="Stage Name"
                                        value={selectedstage}
                                        placeholder="Select Progress"
                                        options={typeValues.data.values}
                                        onchange={handleTypeChange}>
                    </lightning-combobox>
                    <p>Selected Value is:<b>{selectedstage}</b></p>
                    <template if:true={opstages}>
                        <lightning-card title="opportunity">
                            <div style="height: 300px;">
                                <lightning-datatable
                                                     key-field="Id"
                                                     data={opstages}
                                                     columns={columns}>
                                </lightning-datatable>
                            </div>
                        </lightning-card>
                    </template>
                </div>
            </template>
        </p>
    </lightning-card><br/>
</template>